import{P as j,m as p,r as a,j as e,T as m,G as r,S as h,E as f,C as S,B as d}from"./index-s5dWOfUD.js";import{M as k}from"./MainCard-BR8-NKAz.js";import{b as y}from"./FirestoreAPI-DwHJKyW0.js";const i=({skillId:l,label:t})=>{const c=f(),n=()=>{sessionStorage.setItem("skillId",l),c("/skill-detail")};return e.jsx(S,{sx:{mb:3,boxShadow:1},children:e.jsxs(d,{onClick:n,sx:{display:"flex",justifyContent:"center",alignItems:"center",py:6,bgcolor:"primary.light",color:"grey.800",cursor:"pointer",textDecoration:"none"},children:[!t&&e.jsxs(d,{sx:{color:"inherit"},children:["boxShadow: ",shadow]}),t&&e.jsx(d,{sx:{color:"inherit"},children:t})]})})};i.propTypes={label:j.string.isRequired};const E=()=>{p();const l=sessionStorage.getItem("userId"),[t,c]=a.useState([]),[n,x]=a.useState(null),[g,u]=a.useState(!0);return a.useEffect(()=>{(async()=>{u(!0),x(null);try{const o=await y(l);c(o)}catch(o){x(`An error occurred: ${o.message||"Unknown error"}`),console.error("Error fetching skills:",o)}finally{u(!1)}})()},[l]),g?e.jsx(m,{variant:"body1",children:"Loading..."}):n?e.jsx(m,{variant:"body1",color:"error",children:n}):e.jsx(k,{title:"Skill",children:e.jsxs(r,{container:!0,spacing:2,children:[e.jsx(r,{item:!0,xs:12,children:e.jsx(h,{title:"In progress",children:e.jsxs(r,{container:!0,spacing:2,children:[t.filter(s=>s.status===0).map(s=>e.jsx(r,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(i,{skillId:s.id,label:s.name})},s.id)),e.jsx(r,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(i,{skillId:-1,label:"+"})})]})})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(h,{title:"Finished",children:e.jsxs(r,{container:!0,spacing:2,children:[t.filter(s=>s.status===1).map(s=>e.jsx(r,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(i,{skillId:s.id,label:s.name})},s.id)),e.jsx(r,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(i,{skillId:-1,label:"+"})})]})})})]})})};export{E as default};
